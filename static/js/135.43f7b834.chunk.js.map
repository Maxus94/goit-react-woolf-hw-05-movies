{"version":3,"file":"static/js/135.43f7b834.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"backButton\":\"MovieDetails_backButton__pPF5M\",\"moviesContainer\":\"MovieDetails_moviesContainer__v8r0s\",\"movieInfoContainer\":\"MovieDetails_movieInfoContainer__HLRn5\",\"movieTitle\":\"MovieDetails_movieTitle__0CAOT\",\"movieProperties\":\"MovieDetails_movieProperties__r7Uhu\",\"error\":\"MovieDetails_error__uOHXe\",\"overview\":\"MovieDetails_overview__U5Vnb\",\"genre\":\"MovieDetails_genre__+tTbx\"};","import { getMoviesByID } from 'api/movies';\nimport { useEffect, useState, useRef, Suspense } from 'react';\nimport { Link, useParams, Outlet, useLocation } from 'react-router-dom';\n\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  const ref = useRef(location.state?.from ?? '/');\n  const [movieInfo, setMovieInfo] = useState({});\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { movieId } = useParams();\n  const defaultImg =\n    '<https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700>';\n  const searchMovies = async id => {\n    setLoading(true);\n    try {\n      const data = await getMoviesByID(id);\n      setMovieInfo(data);\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    searchMovies(movieId);\n  }, [movieId]);\n  return (\n    <div className={css.moviesContainer}>\n      <Link className={css.backButton} to={ref.current}>\n        Go back\n      </Link>\n      {error && <p className={css.error}>Error! {error}</p>}\n      {loading && <p>Loading...</p>}\n      {Object.keys(movieInfo).length !== 0 && (\n        <div>\n          <div className={css.movieInfoContainer}>\n            <img\n              src={\n                movieInfo.poster_path\n                  ? `https://image.tmdb.org/t/p/w500${movieInfo.poster_path}`\n                  : defaultImg\n              }\n              width={250}\n              alt=\"poster\"\n            />\n            <div className={css.movieProperties}>\n              <p className={css.movieTitle}>\n                {movieInfo.original_title} ({movieInfo.release_date.slice(0, 4)}\n                )\n              </p>\n              <p>User score: {Math.round(movieInfo.vote_average * 10)}%</p>\n              <p className={css.overview}>Overview</p>\n              <p>{movieInfo.overview}</p>\n              <p className={css.overview}>Genres</p>\n              <p>\n                {movieInfo.genres.map(({ name, id }) => (\n                  <span key={id} className={css.genre}>\n                    {name}\n                  </span>\n                ))}\n              </p>\n            </div>\n          </div>\n          <p>Additional information</p>\n          <ul>\n            <li>\n              <Link to=\"cast\">Cast</Link>\n            </li>\n            <li>\n              <Link to=\"reviews\">Reviews</Link>\n            </li>\n          </ul>\n          <Suspense fallback={<div>Loading page...</div>}>\n            <Outlet />\n          </Suspense>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["_location$state$from","_location$state","location","useLocation","ref","useRef","state","from","_useState","useState","_useState2","_slicedToArray","movieInfo","setMovieInfo","_useState3","_useState4","error","setError","_useState5","_useState6","loading","setLoading","movieId","useParams","searchMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","id","data","_context","prev","next","getMoviesByID","sent","t0","message","finish","stop","_x","apply","arguments","useEffect","_jsxs","className","css","children","_jsx","Link","to","current","Object","keys","length","src","poster_path","concat","width","alt","original_title","release_date","slice","Math","round","vote_average","overview","genres","map","_ref2","name","Suspense","fallback","Outlet"],"sourceRoot":""}